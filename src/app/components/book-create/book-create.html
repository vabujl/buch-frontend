<div class="create-book-container">
  <div class="create-book-header">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="create-book-header__icon"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
    <span class="create-book-header__title">Neues Buch anlegen</span>
  </div>

  <div class="create-book-card">
    <div class="create-book-card__body">
      <h2 class="create-book-card__title">Buchdetails eingeben</h2>

      @if (error(); as message) {
        <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50" role="alert">
          {{ message }}
        </div>
      }

      <form class="create-book-form" (ngSubmit)="save()">
        <div class="form-field form-field--full-width">
          <label class="form-field__label">Titel</label>
          <input type="text" placeholder="z.B. Die Abenteuer des Tom Sawyer" class="form-field__input" name="titel" [(ngModel)]="book.titel" />
        </div>

        <div class="form-field form-field--full-width">
          <label class="form-field__label">Untertitel</label>
          <input type="text" placeholder="z.B. Roman" class="form-field__input" name="untertitel" [(ngModel)]="book.untertitel" />
        </div>

        <div class="form-field">
          <label class="form-field__label">Autor</label>
          <input type="text" placeholder="z.B. Mark Twain" class="form-field__input" name="autor" [(ngModel)]="book.autor" />
        </div>

        <div class="form-field">
          <label class="form-field__label">ISBN</label>
          <input type="text" placeholder="978-3-..." class="form-field__input" name="isbn" [(ngModel)]="book.isbn" />
        </div>

        <div class="form-field">
          <label class="form-field__label">Preis (€)</label>
          <input type="number" placeholder="0.00" class="form-field__input" min="0" name="preis" [(ngModel)]="book.preis" />
        </div>

        <div class="form-field">
          <label class="form-field__label">Rabatt (%)</label>
          <input type="number" placeholder="0.00" class="form-field__input" min="0" max="1" name="rabatt" [(ngModel)]="book.rabatt" />
        </div>

        <div class="form-field">
          <label class="form-field__label">Buchart</label>
          <select class="form-field__select" name="buchart" [(ngModel)]="book.buchart">
            <option value="">Bitte wählen...</option>
            <option>EPUB</option>
            <option>HARDCOVER</option>
            <option>PAPERBACK</option>
          </select>
        </div>

        <div class="form-field">
          <label class="form-field__label">Rating (0-5)</label>
          <input type="number" placeholder="3" class="form-field__input" min="0" max="5" name="rating" [(ngModel)]="book.rating" />
        </div>

        <div class="form-field form-field--full-width">
          <label class="form-field__label">Homepage</label>
          <input type="url" placeholder="https://beispiel.de" class="form-field__input" name="homepage" [(ngModel)]="book.homepage" />
        </div>

        <div class="form-field form-field--full-width">
          <label class="form-field__label">Schlagwörter</label>
          <div class="flex flex-wrap gap-4">
            <label class="label cursor-pointer gap-2">
              <input type="checkbox" class="checkbox" name="javascript" [(ngModel)]="book.javascript" />
              <span class="label-text">JavaScript</span>
            </label>
            <label class="label cursor-pointer gap-2">
              <input type="checkbox" class="checkbox" name="typescript" [(ngModel)]="book.typescript" />
              <span class="label-text">TypeScript</span>
            </label>
          </div>
        </div>

        <div class="form-field">
          <label class="form-field__label">Erscheinungsdatum</label>
          <input type="date" class="form-field__input" name="erscheinungsdatum" [(ngModel)]="book.erscheinungsdatum" />
        </div>

        <div class="form-field form-field--checkbox">
          <input type="checkbox" class="form-field__checkbox-input" id="lieferbar-checkbox" name="lieferbar" [(ngModel)]="book.lieferbar" />
          <label class="form-field__label" for="lieferbar-checkbox">Sofort lieferbar</label>
        </div>

        <div class="create-book-actions">
          <button type="button" class="button button--ghost" (click)="cancel()">Abbrechen</button>
          <button type="submit" class="button button--primary" [disabled]="loading()">
            @if (loading()) {
              <span>Speichere...</span>
            } @else {
              <span>Speichern</span>
            }
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
